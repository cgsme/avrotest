### 前言
#### 序列化介绍

###### 1、什么是序列化、反序列化

序列化 (Serialization)是将对象的`状态信息`转换为可以存储或传输的形式的过程（是对象永久化的一种机制）。在序列化期间，对象将其当前`状态`写入到临时或持久性存储区。
以后，可以通过从存储区中读取或反序列化对象的状态，重新创建该对象（反序列化）。

##### 2、为什么需要序列化

目的：
* 以某种存储形式使自定义对象持久化。
* 将对象从一个地方传递到另一个地方（如：网络传输）。
* 使程序更具维护性。

好处：
* 实现数据的持久化
* 实现远程通信

##### 3、怎么进行序列化（序列化的过程）
技术：
* 二进制序列化：保持类型保真度，这对于在应用程序的不同调用之间保留对象的状态很有用。例如，通过将对象序列化到剪贴板，可在不同的应用程序之间共享对象。
可以将对象序列化到流、磁盘、内存和网络等等。远程处理使用序列化“通过值”在计算机或应用程序域之间传递对象。

* XML序列化：仅序列化公共属性和字段，且不保持类型保真度。当要提供或使用数据而不限制使用该数据的应用程序时，这一点很有用。
由于 XML 是一个开放式标准，因此，对于通过 Web 共享数据而言，这是一个很好的选择。SOAP 同样是一个开放式标准，这使它也成为一个颇具吸引力的选择。

##### 4、序列化应用场景

* 保存用户状态。一般来说，服务器启动后，就不会再关闭了，但是如果逼不得已需要重启，而用户会话还在进行相应的操作，这时就需要使用序列化将session信息保存起来放在硬盘，服务器重启后，又重新加载。这样就保证了用户信息不会丢失，实现永久化保存。

* 淘宝每年都会有定时抢购的活动，很多用户会提前登录等待，长时间不进行操作，一致保存在内存中，而到达指定时刻，几十万用户并发访问，就可能会有几十万个session，内存可能吃不消，这时就需要进行对象的序列化，让其在闲置的时候离开内存，将信息保存至硬盘，等要用的时候，就重新加载进内存。





1、avro是什么

2、avro怎么样

3、为什么使用avro

    As we know，JSON是一种轻量级的数据传输格式，对于大数据集，JSON数据会显示力不从心，因为JSON的格式是key：value型，每条记录都要附上key的名字，有的时候，光key消耗的空间甚至会超过value所占空间，这对空间的浪费十分严重，尤其是对大型数据集来说，因为它不仅不够紧凑，还要重复地加上key信息，不仅会造成存储空间上的浪费，更会增加了数据传输的压力，从而给集群增加负担，进而影响整个集群的吞吐量。而采用Avro数据序列化系统可以比较好的解决此问题，因为用Avro序列化后的文件由schema和真实内容组成，schema只是数据的元数据，相当于JSON数据的key信息，schema单独存放在一个JSON文件中，这样一来，数据的元数据只存了一次，相比JSON数据格式的文件，大大缩小了存储容量。从而使得Avro文件可以更加紧凑地组织数据。

4、怎么使用avro

5、avro与其他同类比较（Thrift）
    与[Thrift](https://www.cnblogs.com/AI001/p/3996846.html)
    
    Avro和Thrift都是跨语言，基于二进制的高性能的通讯中间件. 它们都提供了数据序列化的功能和RPC服务。
    总体功能上类似，但是哲学不一样. Thrift出自Facebook用于后台各个服务间的通讯,Thrift的设计强调统一的编程接口的多语言通讯框架。
    Avro出自Hadoop之父Doug Cutting, 在Thrift已经相当流行的情况下Avro的推出，其目标不仅是提供一套类似Thrift的通讯中间件更是要建立一个新的，标准性的云计算的数据交换和存储的Protocol。
    这个和Thrift的理念不同，Thrift认为没有一个完美的方案可以解决所有问题，因此尽量保持一个Neutral框架，插入不同的实现并互相交互。
    而Avro偏向实用，排斥多种方案带来的 可能的混乱，主张建立一个统一的标准，并不介意采用特定的优化。
    Avro的创新之处在于融合了显式,declarative的Schema和高效二进制的数据表达，强调数据的自我描述，克服了以往单纯XML或二进制系统的缺陷。
    Avro对Schema动态加载功能，是Thrift编程接口所不具备的，符合了Hadoop上的Hive/Pig及NOSQL 等既属于ad hoc，又追求性能的应用需求。
    
    结论：
        Thrift适用于程序对程序静态的数据交换，要求schema预知并相对固定。
        Avro在Thrift基础上增加了对schema动态的支持且性能上不输于Thrift。
        Avro显式地设计schema使它更适用于搭建数据交换及存储的通用工具和平台,特别是在后台。
        目前Thrift的优势在于更多的语言支持和相对成熟。








